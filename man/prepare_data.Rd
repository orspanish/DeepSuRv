% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/deepsurv.R
\name{prepare_data}
\alias{prepare_data}
\title{Prepare Dataset for Survival Analysis}
\usage{
prepare_data(dataset, standardize = TRUE, offset = NULL, scale = NULL)
}
\arguments{
\item{dataset}{A list containing the survival data with elements:
\describe{
\item{x}{A numeric matrix or data frame of covariates (predictors).}
\item{e}{A numeric or integer vector of event indicators (1 = event, 0 = censored).}
\item{t}{A numeric vector of survival times.}
}}

\item{standardize}{Logical; if \code{TRUE} (default), the covariates in \code{x} are standardized.}

\item{offset}{Optional numeric vector giving the means of the covariates used for standardization.
If \code{NULL}, they are computed from \code{x}.}

\item{scale}{Optional numeric vector giving the standard deviations of the covariates used for
standardization. If \code{NULL}, they are computed from \code{x}.}
}
\value{
A list with the following elements:
\describe{
\item{x}{The (optionally) standardized and sorted covariate matrix.}
\item{e}{The sorted event indicator vector.}
\item{t}{The sorted survival times.}
\item{offset}{The mean values used for standardization.}
\item{scale}{The standard deviations used for standardization.}
}
}
\description{
This function prepares a dataset for survival modeling by optionally standardizing
covariates and sorting the data by survival time in descending order. It is useful
for preprocessing before fitting models such as Cox proportional hazards or DeepSurv.
}
\details{
If \code{standardize = TRUE}, the function calls \code{standardize_x()} to center and scale
each column of \code{x}. The function then sorts all observations by survival time
(\code{t}) in decreasing order to ensure correct ordering for likelihood-based methods.
}
\examples{
dataset <- list(
  x = matrix(rnorm(20), ncol = 2),
  e = c(1, 0, 1, 1, 0, 1, 0, 0, 1, 1),
  t = runif(10, 1, 10)
)
result <- prepare_data(dataset)
str(result)

}
\seealso{
\code{\link{standardize_x}} for the helper function used in standardization.
}
